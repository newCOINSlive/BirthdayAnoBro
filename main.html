<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Happy Birthday Boy</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&display=swap" rel="stylesheet" />
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      background: #000;
      color: #fff;
      font-family: "Poppins", sans-serif;
      overflow: hidden;
      height: 100vh;
      width: 100vw;
      transition: background-color 1s ease;
    }

    body.red-mode {
      background-color: #2b0006;
    }

    .screen {
      position: fixed;
      inset: 0;
      background: transparent;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .film-overlay {
      position: absolute;
      inset: 0;
      pointer-events: none;
      background-image: radial-gradient(rgba(255,255,255,0.06) 1px, transparent 1px);
      background-size: 3px 3px;
      opacity: 0.2;
      mix-blend-mode: screen;
    }

    .center-content {
      position: relative;
      text-align: center;
      padding: 1rem;
      max-width: 90vw;
      max-height: 90vh;
      z-index: 2;
    }

    .message {
      font-weight: 800;
      font-size: clamp(1.8rem, 5vw, 3.2rem);
      letter-spacing: 2px;
      text-transform: uppercase;
      cursor: pointer;
    }

    .final-message {
      cursor: default;
    }

    .scene-image {
      max-width: 90vw;
      max-height: 80vh;
      object-fit: cover;
      border-radius: 12px;
      box-shadow: 0 20px 60px rgba(0,0,0,0.9);
    }

    .fade-in {
      animation: fadeIn 2.5s ease forwards;
    }

    .fade-out {
      animation: fadeOut 2.5s ease forwards;
    }

    @keyframes fadeIn {
      0% { opacity: 0; transform: scale(1.02); }
      100% { opacity: 1; transform: scale(1); }
    }

    @keyframes fadeOut {
      0% { opacity: 1; transform: scale(1); }
      100% { opacity: 0; transform: scale(0.98); }
    }

    /* Confetti */
    .confetti {
      position: fixed;
      width: 8px;
      height: 14px;
      top: -20px;
      border-radius: 2px;
      opacity: 0.9;
      z-index: 999;
      animation: confettiFall 3s linear forwards;
    }

    @keyframes confettiFall {
      0% {
        transform: translateY(-20px) rotate(0deg);
      }
      100% {
        transform: translateY(110vh) rotate(520deg);
        opacity: 0;
      }
    }

    /* Hearts */
    .heart {
      position: fixed;
      top: -10vh;
      font-size: 22px;
      color: #ff4b6a;
      z-index: 998;
      opacity: 0.95;
      animation: heartFall 4s linear forwards;
    }

    @keyframes heartFall {
      0% {
        transform: translateY(-10vh) translateX(0) scale(1);
      }
      100% {
        transform: translateY(110vh) translateX(20px) scale(1.2);
        opacity: 0;
      }
    }

    /* Curtains */
    #curtain-container {
      position: fixed;
      inset: 0;
      display: flex;
      justify-content: space-between;
      pointer-events: none;
      opacity: 0;
      z-index: 2000;
      transition: opacity 0.4s linear;
    }

    #curtain-container.active {
      opacity: 1;
    }

    .curtain {
      width: 50%;
      height: 100%;
      background: linear-gradient(
        90deg,
        #3d0008 0%,
        #790014 30%,
        #b30024 60%,
        #3d0008 100%
      );
      box-shadow: 0 0 40px rgba(0,0,0,0.9);
      transform: translateX(0);
      transition: transform 2.3s ease-in-out;
    }

    .curtain-left {
      transform: translateX(-100%);
    }

    .curtain-right {
      transform: translateX(100%);
    }

    #curtain-container.close .curtain-left {
      transform: translateX(0);
    }

    #curtain-container.close .curtain-right {
      transform: translateX(0);
    }
  </style>
</head>
<body>
  <div class="screen">
    <div class="film-overlay"></div>
    <div class="center-content" id="center">
      <!-- Content injected by JS -->
    </div>
  </div>

  <!-- Curtain overlay -->
  <div id="curtain-container">
    <div class="curtain curtain-left"></div>
    <div class="curtain curtain-right"></div>
  </div>

  <script>
    // ============ CONFIG ============

    // Put your real image paths here (Benith's photos)
    const imageSequence = [
      "benith1.jpg",
      "benith2.jpg",
      "benith3.jpg"
      // Add/remove as needed
    ];

    const DISPLAY_TIME = 2500;    // how long each scene stays fully visible (ms)
    const TRANSITION_TIME = 2500; // fade-in / fade-out duration (ms)

    const center = document.getElementById("center");
    const curtainContainer = document.getElementById("curtain-container");

    // Steps:
    // 0: "Happy Birthday Boy"
    // 1..N: images
    // N+1: "Stay Blessed boy"
    // N+2: "I love you" (red mode + hearts)
    // N+3: "The End." + curtains
    const steps = [];

    steps.push({ type: "textIntro", text: "Happy Birthday Boy" });

    imageSequence.forEach(src => {
      steps.push({ type: "image", src });
    });

    steps.push({ type: "textBless", text: "Stay Blessed boy" });
    steps.push({ type: "textLove", text: "I love you" });
    steps.push({ type: "textEnd", text: "The End." });

    let currentStep = 0;

    // ============ CONFETTI ============

    function spawnConfetti(amount = 120) {
      const colors = ["#ffb100", "#42e2b8", "#ff6b6b", "#9b5cff", "#ffffff"];
      for (let i = 0; i < amount; i++) {
        const c = document.createElement("div");
        c.classList.add("confetti");
        c.style.left = Math.random() * 100 + "vw";
        c.style.background = colors[Math.floor(Math.random() * colors.length)];
        c.style.animationDuration = (2 + Math.random() * 2) + "s";
        c.style.transform =
          "translateY(-20px) rotate(" + (Math.random() * 360) + "deg)";
        document.body.appendChild(c);
        setTimeout(() => c.remove(), 4500);
      }
    }

    // ============ HEARTS ============

    function spawnHearts(amount = 80) {
      for (let i = 0; i < amount; i++) {
        const h = document.createElement("div");
        h.classList.add("heart");
        h.textContent = "â¤";
        h.style.left = Math.random() * 100 + "vw";
        h.style.fontSize = (18 + Math.random() * 12) + "px";
        h.style.animationDuration = (2.5 + Math.random() * 2) + "s";
        document.body.appendChild(h);
        setTimeout(() => h.remove(), 5000);
      }
    }

    // ============ CURTAINS ============

    function closeCurtains() {
      curtainContainer.classList.add("active");
      // tiny delay before starting slide, so opacity is visible
      setTimeout(() => {
        curtainContainer.classList.add("close");
      }, 50);
    }

    // ============ SEQUENCE LOGIC ============

    function runStep(index) {
      if (index >= steps.length) {
        // End: black screen behind closed curtains
        center.innerHTML = "";
        document.body.classList.remove("red-mode");
        return;
      }

      const step = steps[index];
      center.innerHTML = ""; // clear previous content

      if (step.type === "textIntro") {
        document.body.classList.remove("red-mode");

        const msg = document.createElement("div");
        msg.className = "message fade-in";
        msg.textContent = step.text;

        // Click for confetti
        msg.addEventListener("click", () => {
          spawnConfetti();
        });

        center.appendChild(msg);

        // After display time, fade out and go next
        setTimeout(() => {
          msg.classList.remove("fade-in");
          msg.classList.add("fade-out");

          setTimeout(() => {
            currentStep++;
            runStep(currentStep);
          }, TRANSITION_TIME);
        }, DISPLAY_TIME);

      } else if (step.type === "image") {
        document.body.classList.remove("red-mode");

        const img = document.createElement("img");
        img.src = step.src;
        img.alt = "Birthday image";
        img.className = "scene-image fade-in";
        center.appendChild(img);

        setTimeout(() => {
          img.classList.remove("fade-in");
          img.classList.add("fade-out");

          setTimeout(() => {
            currentStep++;
            runStep(currentStep);
          }, TRANSITION_TIME);
        }, DISPLAY_TIME);

      } else if (step.type === "textBless") {
        document.body.classList.remove("red-mode");

        const msg = document.createElement("div");
        msg.className = "message final-message fade-in";
        msg.textContent = step.text;
        center.appendChild(msg);

        setTimeout(() => {
          msg.classList.remove("fade-in");
          msg.classList.add("fade-out");

          setTimeout(() => {
            currentStep++;
            runStep(currentStep);
          }, TRANSITION_TIME);
        }, DISPLAY_TIME);

      } else if (step.type === "textLove") {
        // Switch to red mode + hearts
        document.body.classList.add("red-mode");
        spawnHearts(100);

        const msg = document.createElement("div");
        msg.className = "message final-message fade-in";
        msg.textContent = step.text;
        center.appendChild(msg);

        // Extra hearts + confetti on click
        msg.addEventListener("click", () => {
          spawnHearts(150);
          spawnConfetti(150);
        });

        setTimeout(() => {
          msg.classList.remove("fade-in");
          msg.classList.add("fade-out");

          setTimeout(() => {
            currentStep++;
            runStep(currentStep);
          }, TRANSITION_TIME);
        }, DISPLAY_TIME + 800); // keep this one a bit longer

      } else if (step.type === "textEnd") {
        // Back to pure cinema black
        document.body.classList.remove("red-mode");

        const msg = document.createElement("div");
        msg.className = "message final-message fade-in";
        msg.textContent = step.text;
        center.appendChild(msg);

        // After The End shows, fade out and trigger curtains
        setTimeout(() => {
          msg.classList.remove("fade-in");
          msg.classList.add("fade-out");

          setTimeout(() => {
            center.innerHTML = "";
            closeCurtains();
            currentStep++;
            runStep(currentStep); // final cleanup
          }, TRANSITION_TIME);
        }, DISPLAY_TIME + 500);
      }
    }

    // Start after a tiny delay for dramatic effect
    window.addEventListener("load", () => {
      setTimeout(() => runStep(currentStep), 800);
    });
  </script>
</body>
</html>
